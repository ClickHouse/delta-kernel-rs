cmake_minimum_required(VERSION 3.12)
include(FindPkgConfig)
project(read_table)
pkg_check_modules(ARROW_GLIB REQUIRED arrow-glib)
add_executable(read_table read_table.c)
target_compile_definitions(read_table PUBLIC DEFINE_DEFAULT_CLIENT)
target_include_directories(read_table PUBLIC "${CMAKE_CURRENT_SOURCE_DIR}/../../../target/ffi-headers" ${ARROW_GLIB_INCLUDE_DIRS})
target_link_directories(read_table PUBLIC "${CMAKE_CURRENT_SOURCE_DIR}/../../../target/debug" ${ARROW_GLIB_LIBRARY_DIRS})
target_link_libraries(read_table PUBLIC delta_kernel_ffi ${ARROW_GLIB_LIBRARIES})
target_compile_options(read_table PUBLIC ${ARROW_GLIB_CFLAGS_OTHER})
